<nav class="navbar navbar-expand-sm navbar-light" id="neubar">
    <div class="container">
      <a class="navbar-brand">
        <img src="https://marketplace.canva.com/EAFBb6P4OLs/1/0/1600w/canva-red-blue-simple-logo-hbl5vlZh180.jpg"
          alt="Logo" height="40" routerLink="/home"/>
      </a>
      <div class=" collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav ms-auto ">
          <li class="nav-item">
            <a class="nav-link mx-2 " routerLink="/doctors">Doctors</a>
          </li>
          <li class="nav-item">
            <a class="nav-link mx-2" routerLink="/patients">Patients</a>
          </li>
          <li class="nav-item">
            <a class="nav-link mx-2" routerLink="/equipement">Equipement Medical</a>
          </li>
          <li class="nav-item">
            <a class="nav-link mx-2" routerLink="/operation">Operations</a>
          </li>
  
        </ul>
      </div>
    </div>
  </nav>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" >Operations Management System</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
     
    </div>
</nav>
  <div class="modal-body">
    <form [formGroup]="from" class="form" name="registerForm" (submit)="onSubmit()">
  <div class="row">
    <div class="col-md-6">
      <label for="salle" class="lbl bold-label custom-font">Salle :</label>
      <input formControlName="salle" type="text" class="form-control w-50  mt-3" placeholder="Salle" [(ngModel)]="operation.salle" name="salle">
    </div>
    
    <div class="col-md-6">
      <label for="date" class="lbl text-end bold-label custom-font">Date :</label>
      <input formControlName="dateDebut" type="date" class="form-control w-50  mt-3" [(ngModel)]="operation.dateoperation" name="date">
    </div>
  </div>
  <br>
  <div class="row">
    <div class="col-md-6">
      <label for="patients" class="lbl text-end bold-label custom-font">Patients :</label>
      <select formControlName="patient" class="form-select w-50 mt-3" [(ngModel)]="operation.pat" name="patients">
        <option *ngFor="let patient of patients" [value]="patient.nom">{{patient.nom}}-{{patient.cin}}</option>
      </select>
    </div>
    <div class="col-md-6">
      <label for="doctors" class="lbl text-end bold-label custom-font">Doctors :</label>
      <select formControlName="doctor" class="form-select w-50 mt-3" [(ngModel)]="operation.med" name="doctor">
        <option *ngFor="let doctor of doctors" [value]="doctor.nom">{{doctor.nom}}</option>
      </select>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
      <label for="equipements" class="lbl bold-label custom-font">Equipements :</label>
      <div class="drop-container">
        <ng-multiselect-dropdown [settings]="dropdownSettings" [data]="dropdownList" formControlName="equi">
        </ng-multiselect-dropdown>
      </div>
    </div>
  </div>


   
      <div class="border text-center">
        <button  type="submit" class="btn btn-outline-success mt-3" >Add</button>
        </div>
  </form>
  </div>
  <br>


      <table class="table table-bordered">
        <thead>
          <tr>
            <th>ID</th>
            <th>Date d'opearation</th>
            <th>Salle</th>
            <th>Patient</th>
            <th>Medecin</th>
            <th>Equipements</th>
            
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let op of operations">
            <td>{{ op.id }}</td>
            <td>{{ op.dateoperation}}</td>
            <td>{{ op.salle }}</td>
            <td>{{ op.pat.nom }}</td>
            <td>{{ op.med.nom }}</td>
            <td>
              <ul>
                <li *ngFor="let equipment of op.equi">{{ equipment.nom }}</li>
              </ul>
            </td>
            
         
            
            <td>
                <button class="btn btn-outline-danger me-2" (click) = "deleteOpeartion(op)">Delete</button>
                <button class="btn btn-outline-primary" (click)="generatePDF(op)">Generate PDF</button>
              </td>
          </tr>
        </tbody>
      </table>

